# PDF 生成

Sitecore Content Hubでは、ユーザーはエンティティのリストからPDFファイルを生成することができます。

以下の手順では、アプリケーションでPDF生成機能を設定する方法を説明します。

印刷テンプレートエンティティ（ZIPファイル）を作成します。
印刷エンティティ生成アクションを作成します。
PDF 生成操作を追加するページ コンポーネントを構成します。
印刷テンプレート実体の作成
Print template entity は、PDF ファイルの構造を定義する '.cshtml', '.json', '.css' ファイルを含む ZIP パッケージです。

次の手順では、印刷テンプレートエンティティを作成する方法を説明します。

管理」に移動し、「印刷テンプレート」を選択します。
新規印刷テンプレートボタンをクリックします。
テンプレート作成ウィンドウで、名前、ターゲット定義、カスタムプロパティを入力します。作成をクリックします。
印刷テンプレートパッケージをアップロードし、確認します。
注意
ターゲット定義は、PDF ファイルに配置されるエンティティの定義です。
カスタム プロパティは、PDF ファイルの生成時にユーザーが入力する必要があるプロパティです。
上記の設定は、エンティティ管理ページを使用しても可能です。管理] > [エンティティ] > [PrintEntityGenerationTemplate]を使用して、上記の設定を行うこともできます。
印刷テンプレート・エンティティを作成した後も、ポータルアセット管理ページを使用して ZIP パッケージを更新できます。
注
印刷テンプレートの詳細については、印刷テンプレートの項を参照してください。

印刷エンティティ生成アクションの作成
印刷テンプレートエンティティを作成した後、次の手順で説明するように、ユーザーは印刷エンティティ生成アクションを作成する必要があります。

管理]に移動し、[アクション]を選択します。
新規アクションボタンをクリックします。
次の情報を入力します。
名前。アクションの名前。
タイプ。Print Entity Generation（印刷エンティティ生成）。
定義。PDF生成の対象となる定義。
テンプレート。前のセクションで作成した印刷テンプレートエンティティ。
保存］をクリックします。
注
ターゲット定義は、PDF ファイルに配置されるエンティティの定義です。
定義を選択すると、印刷テンプレート ドロップダウンで、選択したターゲット定義に対応する印刷テンプレートがロードされます。
注
印刷実体生成アクションの詳細については、印刷実体生成アクションのセクションを参照してください。

PDF 生成操作を構成する
印刷テンプレート実体と印刷実体生成アクションを作成した後、ユーザーはPDF生成操作を設定する必要があります。

多くのページ・コンポーネントでPDF生成操作を構成することが可能です。この例では、アセット詳細ページのエンティティ操作コンポーネントに操作を追加します。

管理」に移動し、「ページ」を選択します。
アセットの詳細ページに移動して、Entity operations コンポーネントを編集します。
PDF 生成操作をコンポーネントの操作に追加します。
PDF生成操作を、前のセクションで作成したPrint Entity Generationアクションとリンクします。
ダウンロードを高品質にしたい場合は、高解像度ボタンをオンにします。

注
高解像度でダウンロードするオプションが機能するためには、印刷テンプレートパッケージ内のasset.jsonファイルにも

"highRes". { "property". "レンディション", "レンディション". "thumbnail" }

変更を保存します。

PDF の生成操作をテストします。
PDF 生成操作をテストするには

操作が設定されているページ（この場合、アセット詳細ページ）に移動します。
PDF の生成］ボタンをクリックします。
印刷テンプレートエンティティで設定されている追加のプロパティの値を入力します。
印刷エンティティ生成ジョブが終了するのを待ってから、「ダウンロード」ページから生成されたPDFファイルをダウンロードします。
