# Sitecore Connect™ for Sitecore DAM™

Sitecore Connect™ for Sitecore DAM™の主な目的は、SitecoreユーザーがSitecoreのContent and Experience編集内でSitecore DAM™のデジタルアセットを直接閲覧、検索、挿入できるようにすることです。

注意事項
この Sitecore Connect™ for Sitecore DAM™ は、Sitecore Experience Manager と Sitecore Experience Platform (バージョン 9.1.0, 9.1.1, 9.2.0, 9.3.0)、および Sitecore Experience Commerce (バージョン 9.1.0, 9.1.1, 9.2.0, 9.3.0) でテストされています。

Sitecore Connect™ for Sitecore DAM™は、完全にローカライズ可能です（英語のリソースのみが提供されます）。

このSitecore Connect™ for Sitecore DAM™は、SXAモジュール - 1.9 rev. 190506 for 9.1.1以降と互換性があります。

概要
Sitecore Connect™ for Sitecore DAM™は、Sitecore DAM™内に存在するアセットをIFrameで表示します。iFrame は、ツールバーの Sitecore DAM™ からの挿入アイコン Insert from Sitecore DAM アイコンを経由して開きます。

Sitecore DAM™にログインするためのポップアップウィンドウが開きます。

Sitecore DAMへのログイン

Sitecore DAM™アセットは、Sitecore DAM™プラットフォームで作成された検索ページに表示されます。これらのページは、Sitecore DAM™ Superusersによって完全に設定することができ、フィルター、フライアウト、クイックエディットなどを含めることができます。新しいページは、2つの子ページと一緒に表示されます。新しいページは、「承認待ち」と「承認済みアセット」の2つの子ページと一緒に表示されます。

承認済みアセットページには、公開されているすべてのアセットが表示されます。

承認済みアセットページ

保留中の承認ページには、現在のユーザーの作成ページとレビューページのアセットが表示されます。また、ユーザーはこのページからファイルをアップロードしたり、アセットを作成したりすることができます。

進行中ページには、作成ページとレビューページのアセットが表示されます。

サポートされているメディアの種類
Sitecore Connect™ for Sitecore DAM™は、さまざまなメディアタイプをサポートします。. 画像アセットと動画アセットは、指定された変換後、同じアセットタイプを使用して挿入されます。その他のメディアタイプ（ドキュメントなど）の場合は変換されませんが、コネクタにはアセットのダウンロードリンクが表示されます。

Sitecoreのメディアタイプ Sitecoreに挿入されたDAM™のメディアタイプ
イメージ画像
ビデオ動画
その他のメディアタイプ ダウンロードリンク
利用可能な操作
承認済みアセットと保留中の承認ページのアセットには、インジケータとアクションボタンが付いたクリック可能なサムネイル画像が表示されます。

アセット - クリック可能な領域

利用可能な操作とインジケータは次のとおりです。

アセットのサムネイル画像をクリックすると、挿入するファイルを選択するページが開きます。

パブリック リンク アイコンが表示されます。パブリック リンク インジケータは、すでにパブリック リンクがあるアセットに表示されます。このインジケータはクリックできません。

プレビュー機能。プレビュー］では、選択したアセットの詳細が表示されるプレビューページが開きます。
送信ボタン。送信ボタンは、保留中の承認ページからアップロードされたアセットを、通常の承認フローに従って承認へと送信します。アセットは、レビュアーが承認した後、「承認済みアセット」ページで使用できるようになります。
直接公開ボタン。直接公開ボタン: 直接公開ボタンは、保留中の承認ページからアップロードされたアセットを公開し、承認済みアセットページですぐに使用できるようにします。この操作には追加の権限が必要なため、すべてのユーザーが利用できるわけではありません。
ステータス インジケータ。保留中の承認ページのステータス インジケータは、作成中、審査中、および却下の間でアセットの現在のステータスを表示します。承認されたアセットは、「承認済みアセット」ページで利用できます。
挿入するファイルを選択します。
挿入するファイルを選択するページは、アセットのサムネイル画像をクリックするか、アセットのプレビューページの挿入するファイルを選択するボタンをクリックすることでアクセスできます。ユーザーは、既存のパブリック リンクを選択するか、新しいパブリック リンクを作成することで、このページから選択したアセットを挿入することができます。

新しいパブリック リンクが開かれ、ファイルを挿入することができます。

ノート
パブリックリンクは、Sitecore DAM™でアセットを外部システムと共有するために使用されます。パブリックリンクを使用してアセットをSitecoreに挿入した場合、Sitecore DAM™内で発生したそのアセットへの変更は、再利用性を考慮してSitecore内のアセットに反映されます。

挿入するファイルの選択ページには、選択したアセットで利用可能なパブリックリンクのリストが表示されます。各パブリックリンクには、実際のURLとリンクに関するその他の情報が表示されます（アスタリスクで区切られています）。

アセットのレンダリング (例: プレビュー)。
切り抜きオプション (例: Cropped)。
レンディションのサイズ (例: 300 x 295 px)。
有効期限 (例: 期限切れにならない)。
挿入するファイルを選択する ページには、各公開リンクに対して以下の操作が含まれています。

ペンアイコン。このボタンをクリックすると、対応するパブリック リンクを編集できる新しいページが開きます。

ゴミ箱アイコン。このボタンは、対応するパブリック リンクを削除します。

選択。このオプションは、対応するパブリックリンクを選択して、Sitecoreにアセットを挿入します。

New public link ボタンをクリックして、新しいパブリックリンクを作成することもできます。このボタンをクリックすると、新しいパブリックリンクのページが開き、アセットの新しいパブリックリンクを作成することができます。

新規パブリックリンク
新しいパブリックリンクのページを開くには、「新しいパブリックリンク」をクリックします。パブリックリンクが存在しない場合は、新しいパブリックリンクのウィンドウが開きます。

新しいパブリック リンクが作成されました。

新規公開リンクページでは、ユーザーは以下の情報を入力する必要があります。

グループプロパティの説明
リンク設定 URL パス 新規公開リンクの URL パスが自動的に生成されます。更新ボタンをクリックすると、新しいURLパスが再生成されます。ユーザーは手動でURLパスを編集することができます。
終了日 カレンダー アイコンをクリックして、リンクの有効期限を選択します。このフィールドはオプションです。値を選択しない場合は、パブリック リンクの有効期限が切れることはありません。
画像設定 レンディション レンディションの種類は必須フィールドです。選択したアセットの一般的なレンディションを選択することができます。
低解像度プレビュー
サムネイル
オリジナル
Crop このパラメータは、トリミングのオプションを定義します。
トリミングしない
中央にクロップ
スマートクロップ
カスタムクロップ
クロップオプションについては、クロップオプションのセクションで詳しく説明します。
アスペクト比 このオプションは、アセットの幅と高さの比率を定義します。このフィールドは、クロップオプションがカスタムクロップに設定されている場合にのみ使用できます。可能な値には、Facebook、Instagram、LinkedIn、Twitter、Youtube用のプリセットのアスペクト比が含まれています。
アスペクト比の値については、クロップオプションのセクションで詳しく説明しています。
リサイズ リサイズオプションでは、アセットの高さと重さを定義します。有効にすると、高さと幅のフィールドが表示されます。このフィールドは、クロップオプションが「クロップしない」または「カスタムクロップ」に設定されている場合にのみ使用できます。
幅 このオプションはアセットの幅を定義します。このフィールドは、[サイズ変更] オプションが有効な場合、または [クロップ] オプションが [中央にクロップ] または [スマート クロップ] に設定されている場合にのみ表示されます。
高さ このオプションはアセットの高さを定義します。このフィールドは、[サイズ変更]オプションが有効な場合、または[切り抜き]オプションが[中央に切り抜き]または[スマートクロップ]に設定されている場合にのみ利用できます。
クロップオプション 新しいパブリックリンクインターフェイスでは、さまざまなトリミングオプションが用意されています。次の画像は、利用可能なオプションの概要を示しています。 クロップ出力 トリミングのオプションは以下の通りです。 トリミングしない。 このオプションは選択されたレンダリングを保持し、画像をクロップしません。 中央に切り抜き: このオプションは選択されたレンディションを保持し、画像を切り抜きません。 このオプションは切り抜き枠を画像の中央に配置します。 幅と高さの値は切り抜き枠の寸法を指定します。 スマートクロップ。 このオプションは画像のエッジや肌の色調、飽和色の領域を検索し、最も重要な特徴の上にクロップボックスを配置しようとします。 幅と高さの値は切り抜き枠の寸法を指定します。カスタム切り抜き。 このオプションではアスペクト比をあらかじめ設定された値から手動で選択することができます。 また、幅と高さの値を使用して画像のサイズを変更したり、プレビューパネルでクロップボックスを手動で調整したりすることもできます。 このアイコンリバースアイコンをクリックすると、トリミングボックスの寸法が反転します。クロップオプション カスタムクロップオプションは、アスペクト比フィールドを表示し、以下のプリセット値を提供します。 グループ値 共通フリー、16:9、2:1、3:2、4:3、5:4、オリジナル、正方形。 Facebook Facebookカバー写真, Facebookイベント画像, Facebookハイライト画像, Facebook共有画像。Instagram インスタグラム インスタグラムフォト、インスタグラムストーリーズ。 LinkedIn LinkedInバナー画像、LinkedIn企業カバー画像、LinkedIn企業写真、LinkedInヒーロー写真、LinkedIn個人背景画像、LinkedIn共有画像、LinkedIn共有リンク。 Twitter Twitterヘッダーフォト、Twitterインストリームフォト。 Youtube YouTube YouTubeチャンネルカバーアート、YouTubeチャンネルプロフィール画像。ノート 新しい画像の寸法は、元の画像の寸法よりも常に小さくなければなりません。 切り抜きはより小さくなければなりません。 ロックアイコンは、アスペクト比を変更できるときには開いて表示され、変更できないときには閉じて表示されます。 クロップは小さくする必要があります。 アスペクト比の値は、Sitecore DAM™でカスタマイズすることができます。利用可能な変換 トランスフォームを使用すると、パブリック リンクの URL で直接トランスフォームを指定して、レンディションのサイズを動的に変更することができます。 より具体的には、トランスフォームを使用すると、パブリックリンクを再生成することなくレンディションのサイズを変更することができます。	スーパーユーザーは、変換プリセットを管理・設定することができます。 次の画像は、すぐに使える変換の一覧です。 新しいトランスフォームのページ レンディションに変換を適用するには、ユーザーは、パブリックリンクのURLに変換の名前を "t "という名前のクエリパラメータとして追加する必要があります。例えば、パブリックリンクのURLに値&t=W320を追加することで、"W320 "という名前の変換をアセットに適用することができます。 URLに追加された変換名 ノート ユーザーは、Sitecore DAM™で利用可能なトランスフォームにアクセスして管理することができます。 このアクションにはスーパーユーザーの権限が必要です。アセットのプレビュー プレビュー ページには、選択したアセットの詳細を含むプレビューが表示されます。 パブリックリンク作成モードは、挿入するファイルを選択すると名前が変更されます。 プレビューページでは、以下の操作が可能です。 挿入するファイルを選択する。挿入するファイルを選択するページを開き、公開リンクを使用してファイルを挿入することができます。 詳細ページを開く。Sitecore DAM™内の新しいタブで、選択したアセットの詳細ページにリダイレクトします。 既知の問題 既知の問題 バージョン 説明 回避策 コンテンツタイプ 9.1 / 9.1.1 / 9.2 Sitecore DAM™でアセットのコンテンツタイプを変更した場合、その変更はSitecoreには反映されません。 そのため、Sitecoreでのレンディションは表示されません。回避策はありません。イメージのプロパティ 9.1 / 9.1.1 / 9.2 コンテンツ エディタ。 画像を右クリックすると、2つのオプションが表示されます。 イメージマップエディタとプロパティです。 どちらかを選択した場合、イメージマネージャのアイコンをクリックすると、開いているメディアライブラリが DAM ライブラリではなく、サイトコア/メディアライブラリになってしまいます。 メディアライブラリを変更する選択肢はありません。 回避策はありません。 イメージフィールドをクリアする 9.1 / 9.1.1 コンテンツエディタ。 画像フィールドに DAM 画像がある状態で [クリア] リンクをクリックしても、画像フィールドが正しくクリアされない。 サムネイルはクリアされますが、URL は残ります。 保存をクリックして問題を解決します。 画像を変更する 9.1 / 9.1.1.1 コンテンツエディタ。 DAM 画像が挿入されている状態で、[参照] をクリックしてサイトコア/メディアライブラリから画像を選択します。画像フィールドが正しくクリアされない。 クリアリンクを使用してフィールドをクリアし、アイテムを保存してから新しい画像を選択してください。 画像フィールドをクリアする 9.1 / 9.1.1 Experience Editor. 保存せずに画像を削除］をクリックして画像をクリアしても、エクスペリエンスエディタに画像が表示されていないにもかかわらず、フィールドがクリアされません。 保存をクリックして解決します。 DAMからメディアライブラリ画像に変更する 9.1 / 9.1.1 Experience Editor. DAMからの画像を選択し、［画像を選択］をクリックしてサイトコア/メディアライブラリからの画像を挿入すると、DAMの画像を置き換えるために、フィールドが正しくクリアされません。 画像を削除］をクリックしてから［保存］をクリックし、サイトコア/メディアライブラリから画像を挿入してください。SXA 9.1 SXA には対応していません。 回避策はありません。 SXA 9.1.1 / 9.2 IFrame を開くときに SXA がインストールされていると、「MAsset Command is not implementeded」というエラーが返され、IFrame を開くことができません。 この問題は、SXAの設定ファイルSitecore.XA.Feature.ContentTokens.configを以下のパスに更新することで解決します。App_Config\ModulesSXA\Feature。 Command Scriptタグの前にSXAキー属性を付加します。script key = "SXA" src="/sitecore/shell/Controls/Rich Text Edit/Insert Content Token Command.js" language="Javascript" 動作 リッチテキストエディタ 9.1 / 9.1.1.1 / 9.2 デザインモードを使用してリッチテキストエディタに動画を挿入した場合、動画の移動や削除はできず、再生のみが可能です。 ただし、2つのコンソールエラーが発生します。 HTML モードに切り替えて、必要に応じて動画要素を調整してください。 動作 リッチテキストエディタ 9.1 / 9.1.1.1 / 9.2 デザインモードで動画のみを含むアイテムを保存して開き直すと、アイテムがフリーズして編集できなくなります。	HTML モードに切り替え、必要に応じて要素を追加してください。これでアイテムのフリーズが解除されます。